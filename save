#!/bin/bash

NOTEFILE='savefile.txt'
echo `date` >> $NOTEFILE

# If run with no commands saves the last command entered
if [[ -z $1 ]]; then
    history -a
    LASTCMD=$(tail -1 ~/.bash_history)
    echo "$LASTCMD" >> $NOTEFILE

elif [[ $1 == "-e" ]]; then
    echo "${@:2:99}" >> $NOTEFILE 
    "${@:2:99}" |& tee -a $NOTEFILE

# Enter interactive bash mode to save everything
elif [[ $1 == "-i" ]]; then
    $command  $2
    $file = $3
    $command |& tee -a $file

elif [[ $1 == "-p" ]];then
    echo "Parsing..."
    ./parse.py

else
    echo $@ >> $NOTEFILE
fi